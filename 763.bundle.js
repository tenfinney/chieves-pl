"use strict";(self.webpackChunk_chievemints_ui=self.webpackChunk_chievemints_ui||[]).push([[763],{8763:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var n=a(2784),i=a(64033),s=a(33541),r=a(60146),l=a(44341),c=a(14738),o=a(18671),m=a(62833),u=a(96111),h=a.n(u);const f=()=>{const[t,e]=(0,n.useState)([]),[a]=(0,m.lr)(),[u,f]=(0,n.useState)(Number(a.get("limit")??10)),[g,E]=(0,n.useState)(Number(a.get("offset")??0)),[w,d]=(0,n.useState)(!!a.get("gating")??!1),y=a.get("visible")??"",[p,S]=(0,n.useState)((0,r.YC)(y)),{roContract:b,constsContract:v}=(0,c.$6)(),B=(t,a)=>{e((e=>[...e.slice(0,t),{...e[t],...a},...e.slice(t+1)]))},[C,I]=(0,n.useState)(null),[N,k]=(0,n.useState)(null),[x,_]=(0,n.useState)(null),[P,T]=(0,n.useState)(null);(0,n.useEffect)((()=>{b&&v&&(b.typeSupply().then((t=>t.toBigInt())).then(I),v.GATING_TYPE().then((t=>t.toBigInt())).then(k),v.TYPE_WIDTH().then(_),v.TYPE_BOUNDARY().then(T))}),[b,v]),(0,n.useEffect)((()=>{S((0,r.YC)(y))}),[y]);const Y=async(t,e=!0)=>{try{const a=(await b.tokenByIndex(t)).toBigInt(),n={};return n.gating=(a&2n**BigInt(x)-1n<<BigInt(P))===N,n.hidden=e&&n.gating&&!w,{id:`0x${a.toString(16)}`,is:n,index:t}}catch(t){return t}};(0,n.useEffect)((()=>{(async()=>{if(b&&v){const t=[];if(p.some((()=>!0)))t.push(...p.map((async t=>{let{high:e,low:a}=t;const n=[e,a];return n.sort(),[a,e]=n,n.some((t=>null!=t))||([e,a]=[t,t]),await Promise.all(Array.from({length:e-a+1}).map((async(t,e)=>await Y(a+e,!1))))})));else{const e=Math.min(u,Number(C)-g),a=g<0?C+g:g;t.push(...Array.from({length:e}).map((async(t,e)=>await Y(a+e+1))))}const a=(await Promise.all(t)).flat();W(a),e((await Promise.all(t)).flat())}})()}),[p]);const W=(0,n.useCallback)((async t=>{await Promise.all(t.map((async(t,e)=>{if(!(t instanceof Error)){if(t.is?.hidden)return null;let a=null;try{const n=await b.uri(t.id);if(""===n)throw new Error("No URI… Waiting for data…");B(e,{uri:n});const i=(0,r._m)(n),s=await fetch(i),l=await s.text();if(!l||""===l)throw new Error("No Data");try{a=h().parse(l)}catch(t){console.error("JSON Error",{error:t,data:l})}}catch(t){B(e,{error:(0,r.B9)(t)})}finally{B(e,{metadata:a})}const n=await b.totalSupply(t.id);B(e,{total:n});const i=await b.getMax(t.id);B(e,{max:i})}})))}),[]);return n.createElement(i.W2,{maxW:"full"},n.createElement(o.q,null,n.createElement("title",null,"𝔐𝔢𝔱𝔞𝔊𝔞𝔪𝔢’𝔰 ’𝓒𝓱𝓲𝓮𝓿𝓮𝓶𝓲𝓷𝓽𝓼"),n.createElement("meta",{name:"description",content:"MetaGame’s ’Chievemint NFTs"})),n.createElement(s.m$.header,{h:"45vh"},n.createElement(i.kC,{maxW:"40rem",margin:"auto"},n.createElement(l.h4,{mt:"5vh",h:"40vh"}))),n.createElement(s.m$.main,null,n.createElement(l.$B,{limit:u,setLimit:f,offset:g,setOffset:E,gatingVisible:w,setGatingVisible:d,visibleList:p,setVisibleList:S}),n.createElement(l.jq,{tokens:t})))}}}]);