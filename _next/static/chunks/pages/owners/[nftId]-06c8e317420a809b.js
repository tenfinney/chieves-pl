(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{59977:function(n,t,e){"use strict";e.r(t),e.d(t,{Owners:function(){return g}});var r,a=e(20406),o=e(7328),s=e(28526),u=e.n(s),i=e(5632),c=e(60138),f=e(90592),d=e(64033),l=e(64618),w=e(2784),p=e(10508),h=e(83513),v=e(97729),x=e(52322),k=(0,c.Ps)(r||(r=(0,o.Z)(['\n  query NFTOwners(\n    \n    $tokenId: String\n    # $limit: Int\n    # $lastId: String\n  ) {\n    nfts(where:{ \n      contract: "0xa77e11b845e31e2c24ddc004fb8f93759c097274",\n      tokenID: $tokenId\n    }) {\n      # ownership(first: $limit, where: {id: }) {\n      ownership {\n        owner\n        quantity\n      }\n    }\n  }\n']))),g=function(){var n=(0,i.useRouter)().query.nftId,t=(0,w.useState)([]),e=t[0],r=t[1];console.debug({nftId:n}),Array.isArray(n)&&(n=n[0]);var o=n?BigInt(n).toString():null,s=(0,f.a)(k,{variables:{tokenId:o}}),c=s.loading,g=s.error,m=s.data;console.log({data:m});var _=(0,w.useState)("\ud835\ude1c\ud835\ude2f\ud835\ude2c\ud835\ude2f\ud835\ude30\ud835\ude38\ud835\ude2f"),b=_[0],y=_[1],I=(0,l.$6)(),E=I.ensProvider,j=I.roContract;return console.debug({loading:c,error:g,data:m}),(0,w.useEffect)((function(){var t=function(){var t=(0,a.Z)(u().mark((function t(){var e,r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=12;break}return t.next=3,null===j||void 0===j?void 0:j.uri(n);case 3:return e=t.sent,t.next=6,fetch((0,p._m)(e));case 6:return r=t.sent,t.next=9,r.json();case 9:a=t.sent,console.debug({data:a}),y(a.name);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[j]),(0,w.useEffect)((function(){var n=function(){var n=(0,a.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!m){n.next=8;break}if(1===m.nfts.length){n.next=3;break}throw new Error("Got ".concat(m.nfts.length," Digital Token"));case 3:return n.t0=r,n.next=6,Promise.all(m.nfts[0].ownership.map(function(){var n=(0,a.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.owner,n.next=3,null===E||void 0===E?void 0:E.lookupAddress(e);case 3:return(r=n.sent)&&(e=r),n.abrupt("return",{owner:e,quantity:t.quantity});case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 6:n.t1=n.sent,(0,n.t0)(n.t1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[m]),c?"Loading\u2026":g?"Error! ".concat(g.message):(0,x.jsxs)(d.xu,{ml:8,children:[(0,x.jsx)(v.default,{children:(0,x.jsx)("title",{children:"Owners"})}),(0,x.jsx)(h.dL,{}),(0,x.jsx)(d.X6,{mt:10,fontSize:20,children:b}),(0,x.jsx)(d.GS,{children:e.map((function(n,t){return(0,x.jsx)(d.HC,{ml:6,children:"".concat(n.owner," (").concat(n.quantity,")")},t)}))})]})};t.default=g},71161:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/owners/[nftId]",function(){return e(59977)}])}},function(n){n.O(0,[730,226,513,774,888,179],(function(){return t=71161,n(n.s=t);var t}));var t=n.O();_N_E=t}]);