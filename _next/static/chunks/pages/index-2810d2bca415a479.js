(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{19842:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(20406),i=r(8529),s=r(95235),o=r(52746),c=r(28526),a=r.n(c),u=r(2784),l=r(97729),f=r(64033),p=r(41215),m=r(10508),b=r(95321),d=r(64618),h=r(5632),x=r(42840),v=r(80038),j=r(79338),g=r(26106),y=r(63955),O=r(52322);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.limit,r=void 0===t?10:t,i=e.setLimit,s=e.offset,o=void 0===s?0:s,c=e.setOffset,l=e.gatingVisible,p=void 0!==l&&l,m=e.setGatingVisible,b=e.visibleList,d=void 0===b?[]:b,h=e.setVisibleList,w=(0,y.cI)(),N=w.register,P=w.handleSubmit,E=w.control,S=w.setValue,_=w.formState,I=(_.errors,_.isSubmitting,_.isDirty,function(){var e=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log({data:t}),i(Number(t.limit)),c(Number(t.offset)),m(t.gatingVisible),h(null===(r=t.visibleList)||void 0===r?void 0:r.split(/\s*,\s*/).filter((function(e){return""!==e})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,u.useEffect)((function(){console.log({offset:o}),S("limit",r),S("offset",o),S("visibleList",d.join(", ")),S("gatingVisible",p)}),[r,o,d,p]),(0,O.jsxs)(f.xu,{as:"form",onSubmit:P(I),mt:10,mb:"1rem",maxW:["100%","min(85vw, 50em)"],sx:{a:{textDecoration:"underline"}},children:[(0,O.jsx)(x.NI,{children:(0,O.jsxs)(f.kC,{align:"center",my:1,children:[(0,O.jsx)(x.lX,{_after:{content:'":"'},children:"Limit"}),(0,O.jsx)(v.II,k({type:"number",placeholder:"Number of tokens to display."},N("limit")))]})}),(0,O.jsx)(x.NI,{children:(0,O.jsxs)(f.kC,{align:"center",my:1,children:[(0,O.jsx)(x.lX,{_after:{content:'":"'},children:"Offset"}),(0,O.jsx)(v.II,k({type:"number",placeholder:"Number of tokens offset from Token 1."},N("offset")))]})}),(0,O.jsx)(x.NI,{children:(0,O.jsxs)(f.kC,{align:"center",my:1,children:[(0,O.jsx)(x.lX,{_after:{content:'":"'},children:"Visible\xa0List"}),(0,O.jsx)(v.II,k({placeholder:"Comma separated list of indices."},N("visibleList")))]})}),(0,O.jsx)(x.NI,{children:(0,O.jsx)(f.kC,{align:"center",my:1,children:(0,O.jsx)(y.Qr,{control:E,name:"gatingVisible",defaultValue:p,render:function(e){var t=e.field,r=t.onChange,n=t.value,i=t.ref;return(0,O.jsx)(j.XZ,{onChange:r,ref:i,isChecked:n,children:"View\xa0Permission\xa0Tokens"})}})})}),(0,O.jsx)(g.zx,{type:"submit",children:"View"})]})};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(){var e=(0,u.useState)([]),t=e[0],r=e[1],s=(0,h.useRouter)().query,c=s.gating,x=void 0!==c&&c,v=s.visible,j=s.limit,g=void 0===j?10:j,y=s.offset,w=void 0===y?0:y,k=(0,u.useState)(Number(g)),P=k[0],S=k[1],_=(0,u.useState)(Number(w)),I=_[0],V=_[1],C=(0,u.useState)(!!x),D=C[0],L=C[1],T=(0,u.useState)([]),Z=T[0],B=T[1],X=(0,d.$6)().roContract,A=function(e,t){r((function(r){return[].concat((0,o.Z)(r.slice(0,e)),[E(E({},r[e]),t)],(0,o.Z)(r.slice(e+1)))}))};return(0,u.useEffect)((function(){L(!!x)}),[x]),(0,u.useEffect)((function(){V(Number(w))}),[w]),(0,u.useEffect)((function(){S(Number(g))}),[g]),(0,u.useEffect)((function(){var e=v;if(e){if(Array.isArray(e)){var t=e;e=(0,i.Z)(t,1)[0]}console.log({v:e.split(/\s*,\s*/).filter((function(e){return""!==e}))}),B(e.split(/\s*,\s*/).filter((function(e){return""!==e})))}}),[v]),(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(a().mark((function e(){var t,i,s,o,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=23;break}return e.t0=Number,e.next=4,X.typeSupply();case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=8,X.GATING_TYPE();case 8:return i=e.sent,e.next=11,X.TYPE_WIDTH();case 11:return s=e.sent,e.next=14,X.TYPE_BOUNDARY();case 14:return o=e.sent,c=Math.min(P,t),u=I<0?t+I:I,e.next=19,Promise.all(Array.from({length:c}).map(function(){var e=(0,n.Z)(a().mark((function e(t,r){var n,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u+r+1,e.next=3,X.tokenByIndex(n);case 3:return c=e.sent,l=!D&&(c.toBigInt()&BigInt(Math.pow(2,s)-1)<<BigInt(o))===i.toBigInt()||Z.length>0&&!Z.includes(n.toString()),e.abrupt("return",{id:c.toHexString(),hide:l,index:n});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 19:return l=e.sent,r(l),e.next=23,Promise.all(l.map(function(){var e=(0,n.Z)(a().mark((function e(t,r){var n,i,s,o,c,u,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!t.hide){e.next=3;break}return e.abrupt("return",null);case 3:return i=null,e.prev=4,e.next=7,X.uri(n);case 7:return""===(s=e.sent)&&(s=null),A(r,{uri:s}),o=(0,m._m)(s),e.next=13,fetch(o);case 13:return c=e.sent,e.next=16,c.text();case 16:if((u=e.sent)&&""!==u){e.next=19;break}throw new Error("No Data");case 19:try{i=JSON.parse(u)}catch(a){console.error("JSON Error",{error:a,data:u})}e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),console.warn({error:e.t0}),A(r,{error:null!==(l=e.t0.message)&&void 0!==l?l:e.t0});case 26:return e.prev=26,A(r,{metadata:i}),e.finish(26);case 29:return e.next=31,X["totalSupply(uint256)"](n);case 31:f=e.sent,A(r,{total:f});case 33:case"end":return e.stop()}}),e,null,[[4,22,26,29]])})));return function(t,r){return e.apply(this,arguments)}}()));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[X,D,Z,P]),(0,O.jsxs)(f.W2,{maxW:"full",children:[(0,O.jsxs)(l.default,{children:[(0,O.jsx)("title",{children:"\ud835\udd10\ud835\udd22\ud835\udd31\ud835\udd1e\ud835\udd0a\ud835\udd1e\ud835\udd2a\ud835\udd22\u2019\ud835\udd30 \u2019\ud835\udcd2\ud835\udcf1\ud835\udcf2\ud835\udcee\ud835\udcff\ud835\udcee\ud835\udcf6\ud835\udcf2\ud835\udcf7\ud835\udcfd\ud835\udcfc"}),(0,O.jsx)("meta",{name:"description",content:"MetaGame\u2019s \u2019Chievemint NFTs"})]}),(0,O.jsx)(p.m$.header,{h:"45vh",children:(0,O.jsx)(f.kC,{maxW:"40rem",margin:"auto",children:(0,O.jsx)(b.h4,{mt:"5vh",h:"40vh"})})}),(0,O.jsxs)(p.m$.main,{children:[(0,O.jsx)(N,{limit:P,setLimit:S,offset:I,setOffset:V,gatingVisible:D,setGatingVisible:L,visibleList:Z,setVisibleList:B}),(0,O.jsx)(b.jq,{tokens:t})]})]})}},8738:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(19842)}])}},function(e){e.O(0,[33,498,338,321,774,888,179],(function(){return t=8738,e(e.s=t);var t}));var t=e.O();_N_E=t}]);