"use strict";(self.webpackChunk_chievemints_ui=self.webpackChunk_chievemints_ui||[]).push([[233],{87233:(e,t,n)=>{n.r(t),n.d(t,{New:()=>w,default:()=>g});var r=n(64033),a=n(33541),l=n(54805),c=n(69204),i=n(80038),m=n(86915),o=n(70691),s=n(79338),u=n(14738),E=n(2784),d=n(44341),h=n(63955),f=n(23244),k=n(60146),y=n(18671),p=n(62833);const w=()=>E.createElement(r.W2,{maxW:"full"},E.createElement(y.q,null,E.createElement("title",null,"New SmartLaw Cred Token")),E.createElement(a.m$.header,null,E.createElement(r.kC,{justify:"center"},E.createElement(d.R6,{my:"1vh",maxW:"xl"})),E.createElement(r.kC,{justify:"center"},E.createElement(d.OE,{my:"1vh",maxW:"xl"})),E.createElement(r.kC,{justify:"center"},E.createElement(d.zV,{my:"1vh",maxW:"xl"})),E.createElement(r.kC,{justify:"center"},E.createElement(d.BB,{my:"1vh",maxW:"xl"})),E.createElement(r.kC,{justify:"center"},E.createElement(d.R6,{my:"1vh",maxW:"xl"}))),E.createElement(a.m$.main,null,E.createElement(b,null))),b=()=>{const{ensProvider:e,roContract:t,rwContract:n,connecting:y,connect:w,chain:b,address:g}=(0,u.$6)(),[v,x]=(0,p.lr)({tokenId:""}),C=v.get("tokenId"),[T,S]=(0,E.useState)(Array.isArray(C)?C[0]:C),[I,W]=(0,E.useState)([]),[A,$]=(0,E.useState)(!1),{register:j,handleSubmit:N}=(0,h.cI)(),M=(0,l.pm)(),{rolePermissions:P}=f.k;(0,E.useEffect)((()=>{"string"==typeof C&&S(C)}),[C]),(0,E.useEffect)((()=>{(async()=>{if(t){const e=await t.roleIndexForName("ReservedLast")-1,n=await Promise.all(Array.from({length:e}).map((async(e,n)=>await t.roleNameByIndex(n+1))));W(n)}})()}),[t]);const R=(0,E.useCallback)((async r=>{$(!0);try{if(!n)throw new Error("Connect your Web3 account to reserve an ID.");if(!t)throw new Error("Library not loaded.");const a=[],l=[];await Promise.all(Object.entries(r).map((async([e,t])=>{if("boolean"==typeof t&&t){const[,t,r]=e.match(/^(grant|disable)\((.+)\)$/)??[],c=await n.roleIndexForName(r);switch(t){case"grant":a.push(c);break;case"disable":l.push(c);break;default:throw new Error(`Unknown operation: ${t}`)}}})));let{maintainer:c}=r;if(""===c&&(c=g),null==c)throw new Error("`maintainer` is not set.");if(c.includes(".")){if(!e)throw new Error("ENS provider not defined.");c=await e.resolveName(c)??void 0}const i=await n["create(address,uint8[],uint8[])"](c,a,l),m=(await i.wait()).events.find((e=>"Created"===e.event));if(!m)throw new Error("Couldn’t find a token creation event.");const[o]=m.args;S(o.toHexString())}catch(e){M({title:"Creation Error",description:(0,k.B9)(e),status:"error",isClosable:!0,duration:1e4}),console.error(e.stack)}finally{$(!1)}}),[g,e,t,n,M]);return n&&T&&!A?E.createElement(d.g_,{tokenId:T}):E.createElement(r.xu,{ml:"50px"},E.createElement(r.xv,{fontSize:"24pt",mt:"1rem",fontWeight:"bold"},"ERC-1155 Access and Achievment Token Minting"),E.createElement(r.xv,{ml:"20px",fontSize:"18pt",fontWeight:"bold"},"Digital Tokens on the Polygon EVM Blockchain using IPFS"),E.createElement(r.xv,{ml:"50px",fontSize:"12pt",fontWeight:"regular"},"Each token reservation mints one (1) master token and up to (11) role tokens. Superuser, Minter, Caster, Transferer, Configurer, Maintainer, Creator, Limiter, Burner, Destroyer, and/or Oracle can be automatically minted with the master token and can be assigned to third-parties for administration."),E.createElement("br",null),E.createElement("hr",null),E.createElement("br",null),E.createElement(r.M5,null,E.createElement("br",null),E.createElement(r.Kq,null,E.createElement(r.X6,{textAlign:"center"},"Create a New Token Type"),y?E.createElement(r.kC,{justify:"center"},E.createElement(c.$,{thickness:"4px"}),E.createElement(r.xv,{ml:2},"Connecting…")):A?E.createElement(r.kC,{justify:"center",mt:7},E.createElement(c.$,null),E.createElement(r.xv,{ml:2},"Reserving your token…")):T?E.createElement(r.xv,null,"We are glad you showed up!"):E.createElement(r.Kq,{as:"form",onSubmit:N(R)},E.createElement(r.kC,{align:"center"},E.createElement(a.m$.label,{mr:3},"Admin:"),E.createElement(i.II,{...j("maintainer"),placeholder:"Maintainer Address (default Creator)"})),E.createElement(m.iA,{mb:5},E.createElement(m.hr,null,E.createElement(m.Tr,null,E.createElement(m.Th,null,"Role"),E.createElement(m.Th,null,E.createElement(o.u,{label:"Give the admin these roles:"},"Grant")),E.createElement(m.Th,null,E.createElement(o.u,{label:"Prevent these permissions from being checked:"},"Disable")),E.createElement(m.Th,null,"Description"))),E.createElement(m.p3,null,I.map(((e,t)=>E.createElement(m.Tr,{key:t},E.createElement(m.Td,null,e),E.createElement(m.Td,{textAlign:"center"},E.createElement(s.XZ,{...j(`grant(${e})`)})),E.createElement(m.Td,{textAlign:"center"},E.createElement(s.XZ,{...j(`disable(${e})`)})),E.createElement(m.Td,null,P[e])))))),E.createElement(d.Mm,{purpose:"create",label:"Reserve an ID"})))))},g=w}}]);