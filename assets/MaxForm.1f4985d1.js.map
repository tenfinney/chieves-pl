{"version":3,"file":"MaxForm.1f4985d1.js","sources":["../../../../node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js","../../src/components/OptionsForm.tsx","../../src/components/URIForm.tsx","../../src/components/NFTForm.tsx","../../src/components/JSONForm.tsx","../../src/components/MaxForm.tsx"],"sourcesContent":["import { useFormControl } from '@chakra-ui/form-control';\nimport { forwardRef, chakra, useMultiStyleConfig, omitThemingProps, layoutPropNames } from '@chakra-ui/system';\nimport { cx, __DEV__, split, mergeWith, dataAttr } from '@chakra-ui/utils';\nimport * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"children\", \"placeholder\", \"className\"],\n    _excluded2 = [\"rootProps\", \"placeholder\", \"icon\", \"color\", \"height\", \"h\", \"minH\", \"minHeight\", \"iconColor\", \"iconSize\", \"isFullWidth\"],\n    _excluded3 = [\"children\"];\nvar SelectField = /*#__PURE__*/forwardRef(function (props, ref) {\n  var children = props.children,\n      placeholder = props.placeholder,\n      className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  return /*#__PURE__*/React.createElement(chakra.select, _extends({}, rest, {\n    ref: ref,\n    className: cx(\"chakra-select\", className)\n  }), placeholder && /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }, placeholder), children);\n});\n\nif (__DEV__) {\n  SelectField.displayName = \"SelectField\";\n}\n\n/**\n * React component used to select one item from a list of options.\n */\nvar Select = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Select\", props);\n\n  var _omitThemingProps = omitThemingProps(props),\n      rootProps = _omitThemingProps.rootProps,\n      placeholder = _omitThemingProps.placeholder,\n      icon = _omitThemingProps.icon,\n      color = _omitThemingProps.color,\n      height = _omitThemingProps.height,\n      h = _omitThemingProps.h,\n      minH = _omitThemingProps.minH,\n      minHeight = _omitThemingProps.minHeight,\n      iconColor = _omitThemingProps.iconColor,\n      iconSize = _omitThemingProps.iconSize;\n      _omitThemingProps.isFullWidth;\n      var rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);\n\n  var _split = split(rest, layoutPropNames),\n      layoutProps = _split[0],\n      otherProps = _split[1];\n\n  var ownProps = useFormControl(otherProps);\n  var rootStyles = {\n    width: \"100%\",\n    height: \"fit-content\",\n    position: \"relative\",\n    color: color\n  };\n  var fieldStyles = mergeWith({\n    paddingEnd: \"2rem\"\n  }, styles.field, {\n    _focus: {\n      zIndex: \"unset\"\n    }\n  });\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: \"chakra-select__wrapper\",\n    __css: rootStyles\n  }, layoutProps, rootProps), /*#__PURE__*/React.createElement(SelectField, _extends({\n    ref: ref,\n    height: h != null ? h : height,\n    minH: minH != null ? minH : minHeight,\n    placeholder: placeholder\n  }, ownProps, {\n    __css: fieldStyles\n  }), props.children), /*#__PURE__*/React.createElement(SelectIcon, _extends({\n    \"data-disabled\": dataAttr(ownProps.disabled)\n  }, (iconColor || color) && {\n    color: iconColor || color\n  }, {\n    __css: styles.icon\n  }, iconSize && {\n    fontSize: iconSize\n  }), icon));\n});\n\nif (__DEV__) {\n  Select.displayName = \"Select\";\n}\n\nvar DefaultIcon = function DefaultIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n  }));\n};\nvar IconWrapper = chakra(\"div\", {\n  baseStyle: {\n    position: \"absolute\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    pointerEvents: \"none\",\n    top: \"50%\",\n    transform: \"translateY(-50%)\"\n  }\n});\n\nvar SelectIcon = function SelectIcon(props) {\n  var _props$children = props.children,\n      children = _props$children === void 0 ? /*#__PURE__*/React.createElement(DefaultIcon, null) : _props$children,\n      rest = _objectWithoutPropertiesLoose(props, _excluded3);\n\n  var clone = /*#__PURE__*/React.cloneElement(children, {\n    role: \"presentation\",\n    className: \"chakra-select__icon\",\n    focusable: false,\n    \"aria-hidden\": true,\n    // force icon to adhere to `IconWrapper` styles\n    style: {\n      width: \"1em\",\n      height: \"1em\",\n      color: \"currentColor\"\n    }\n  });\n  return /*#__PURE__*/React.createElement(IconWrapper, _extends({}, rest, {\n    className: \"chakra-select__icon-wrapper\"\n  }), /*#__PURE__*/React.isValidElement(children) ? clone : null);\n};\n\nif (__DEV__) {\n  SelectIcon.displayName = \"SelectIcon\";\n}\n\nexport { DefaultIcon, Select, SelectField };\n","/* eslint-disable indent */\nimport {\n  Box, Stack, Tab, TabList, TabPanel,\n  TabPanels, Tabs, useToast,\n} from '@chakra-ui/react'\nimport {\n  URIForm, JSONForm, NFTForm, MaxForm, SubmitButton,\n} from '@/components'\nimport {\n  ipfsify, isSet, isEmpty, regexify, extractMessage,\n} from '@/lib/helpers'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useWeb3 } from '@/lib/hooks'\nimport { useForm } from 'react-hook-form'\nimport JSON5 from 'json5'\nimport {\n  ERC1155Metadata, FormValues, Maybe, OpenSeaAttribute, Attribute,\n} from '@/lib/types'\nimport { useNavigate } from 'react-router-dom'\nimport { useConfig } from '@/config'\n\nexport const OptionsForm: React.FC<{\n  purpose?: 'create' | 'update'\n  tokenId?: string\n  metadata?: Maybe<ERC1155Metadata>\n  metaURI?: string\n}> = ({\n  purpose = 'create',\n  tokenId,\n  metadata: incomingData,\n  metaURI: incomingURI,\n}) => {\n  const FIELD_FORM = 0\n  const URI_FORM = 1\n  const JSON5_FORM = 2\n  const { rwContract } = useWeb3()\n  const navigate = useNavigate()\n  const {\n    register, handleSubmit, watch, setValue: setValue,\n    formState: { isSubmitting: processing },\n  } = useForm()\n  const [tab, setTab] = useState(FIELD_FORM)\n  const toast = useToast()\n  const { storage } = useConfig()\n  const metadata = watch('metadata')\n  const json5 = watch('json5')\n  const uri = watch('uri')\n\n  useEffect(() => {\n    if(purpose === 'update') {\n      setValue('metadata', incomingData)\n    }\n  }, [setValue, purpose, incomingData])\n\n  const buildMeta = useCallback(async (data: FormValues) => {\n    const {\n      name, description, homepage, color,\n      images, animation, attributes,\n    } = data\n\n    const metadata: ERC1155Metadata = {\n      name: isSet(name) ? name : '𝙐𝙣𝙩𝙞𝙩𝙡𝙚𝙙',\n      decimals: 0,\n    }\n\n    if(isSet(description)) {\n      metadata.description = description\n    }\n\n    if(isSet(homepage)) {\n      metadata.external_url = homepage\n    }\n\n    if(Array.isArray(images) && images.some((img) => img != null)) {\n      metadata.image = await ipfsify({ filesOrURL: images, storage })\n    } else if(!Array.isArray(images)) {\n      console.warn(`Unknown Image Type: ${typeof images}`)\n    }\n\n    if(animation instanceof File || typeof animation === 'string') {\n      metadata.animation_url = await ipfsify({ filesOrURL: animation, storage })\n    } else if (animation != null) {\n      console.warn(`Unknown Animation Type: ${typeof animation}`)\n    }\n\n    if(color?.startsWith('#')) {\n      metadata.background_color = (\n        color.substring(1).toUpperCase()\n      )\n    }\n\n    if(isSet(attributes) && !isEmpty(attributes)) {\n      metadata.attributes = (\n        attributes.map(({ name, value, type }: Attribute) => {\n          const attr: OpenSeaAttribute = {\n            trait_type: name,\n            value,\n          }\n          // including a string type causes nothing to render\n          if (type !== 'string') {\n            attr.display_type = type\n          }\n          return attr\n        })\n      )\n    }\n\n    return metadata\n  }, [storage])\n\n  const configure = useCallback(\n    async ({ metadata }: { metadata: string } ) => {\n      if(!rwContract) {\n        throw new Error(\n          `Cannot connect to contract to ${purpose} metadata.`\n        )\n      }\n      if(tokenId == null) {\n        throw new Error('Token id is unset.')\n      }\n      if(metadata == null) {\n      throw new Error ('metadata is unset.')\n      }\n      try {\n        const tx = await rwContract.setURI(\n          BigInt(tokenId), metadata\n        )\n        await tx.wait()\n\n        if(metadata !== '') {\n          navigate(`/view/${regexify(tokenId)}`)\n        }\n      } catch(error) {\n        console.error({ error })\n        toast({\n          title: 'Contract Error',\n          description: extractMessage(error),\n          status: 'error',\n          isClosable: true,\n          duration: 10000\n        })\n      }\n    },\n    [rwContract, tokenId, purpose, navigate, toast],\n  )\n\n  const submit = useCallback(async (data: FormValues) => {\n    try {\n      const name = `metadata.${(new Date()).toISOString()}.json`\n      let metadata = await (async () => {\n        switch(tab) {\n          case FIELD_FORM: {\n            const content = JSON.stringify(\n              await buildMeta(data), null, 2\n            )\n            return { name, content }\n          }\n          case URI_FORM: {\n            return data.uri ?? ''\n          }\n          case JSON5_FORM: {\n            if(!isSet(data.json5)) {\n              throw new Error('JSON5 isn’t set.')\n            }\n            const meta = JSON5.parse(data.json5)\n            return {\n              name,\n              content: JSON.stringify(meta, null, 2)\n            }\n          }\n          default: {\n            throw new Error(`Unknown Tab: ${tab}`)\n          }\n        }\n      })()\n\n      if(metadata == null) {\n        throw new Error(`Metadata is \\`${JSON5.stringify(metadata)}\\`.`)\n      } else if(metadata !== '') {\n        console.log({metadata})\n        metadata = await ipfsify({ filesOrURL: metadata, storage })\n        console.log({metadata})\n      }\n      await configure({ metadata })\n    } catch(error) {\n      console.error({ error })\n      toast({\n        title: 'Metadata Error',\n        description: extractMessage(error),\n        status: 'error',\n        isClosable: true,\n        duration: 10000\n      })\n    }\n  }, [buildMeta, configure, storage, tab, toast])\n\n  return (\n    <Stack align=\"center\">\n      <Box\n        as=\"form\" onSubmit={handleSubmit(submit)}\n        mt={10} w={['100%', 'min(85vw, 40em)']}\n        sx={{ a: { textDecoration: 'underline' } }}\n      >\n        <SubmitButton {...{ purpose, processing }} mb={3} />\n        <Tabs\n          mx={[0, 5]}\n          isFitted\n          variant=\"enclosed\"\n          onChange={async (idx: number) => {\n            switch(idx) {\n              case FIELD_FORM: {\n                let metadata\n                switch(tab) {\n                  case URI_FORM: {\n                    if(uri && uri !== '') {\n                      const res = await fetch(uri)\n                      metadata = JSON5.parse(\n                        await res.text()\n                      )\n                    }\n                    break\n                  }\n                  case JSON5_FORM: {\n                    if(json5 && json5 !== '') {\n                      metadata = JSON5.parse(json5)\n                    }\n                    break\n                  }\n                }\n                if(metadata) {\n                  await configure({ metadata })\n                } else {\n                  toast({\n                    title: 'Metadata Warning',\n                    description: 'No metadata specified.',\n                    status: 'warning',\n                    isClosable: true,\n                    duration: 10000\n                  })\n                }\n                break\n              }\n              case URI_FORM: {\n                break\n              }\n            }\n            setTab(idx)\n          }}\n        >\n          <TabList mb=\"1em\">\n            <Tab>Fields</Tab>\n            <Tab>URI</Tab>\n            <Tab>JSON5</Tab>\n          </TabList>\n          <TabPanels>\n            {[NFTForm, URIForm, JSONForm].map((Form, idx) => (\n              <TabPanel key={idx} p={0}>\n                <Form {...{\n                  register,\n                  watch,\n                  setValue,\n                  tokenId,\n                  metadata,\n                }} />\n              </TabPanel>\n            ))}\n          </TabPanels>\n        </Tabs>\n        <SubmitButton\n          {...{ purpose, processing }}\n          mb={3}\n          requireStorage={true}\n        />\n      </Box>\n      <MaxForm colorScheme=\"blue\" {...{ tokenId, purpose }}/>\n      <MaxForm\n        colorScheme=\"blue\"\n        perUser={true}\n        {...{ tokenId, purpose }}\n      />\n    </Stack>\n  )\n}\n\nexport default OptionsForm","import { Input, Stack } from '@chakra-ui/react'\nimport React from 'react'\nimport { FieldValues, UseFormRegister } from 'react-hook-form'\n\nexport const URIForm: React.FC<{\n  register: UseFormRegister<FieldValues>\n}> = ({\n  register\n}) => {\n  return (\n    <Input\n      placeholder=\"Enter a URI for the token…\"\n      {...register('uri')}\n    />\n  )\n}\n","/* eslint-disable indent */\nimport {\n  AddIcon, CloseIcon, ExternalLinkIcon\n} from '@chakra-ui/icons'\nimport {\n  Input, chakra, Select, Td, Tooltip, Button, Tr,\n  UnorderedList, ListItem, FormControl, Flex,\n  FormLabel, Text, Link, Image, Tabs,\n  TabList, Tab, TabPanels, TabPanel, Textarea,\n  Table, Thead, Th, Tbody, Radio, RadioGroup,\n  SimpleGrid, Stack, Center,\n} from '@chakra-ui/react'\nimport { nftBase } from '@/config'\nimport { httpURL, isEmpty, regexify } from '@/lib/helpers'\nimport {\n  Attribute, ERC1155Metadata, Maybe, OpenSeaAttribute,\n} from '@/lib/types'\nimport React, {\n  ChangeEvent, useCallback, useEffect, useRef, useState,\n} from 'react'\nimport Markdown from 'react-markdown'\nimport {\n  FieldValues, UseFormRegister, UseFormSetValue,\n  UseFormWatch,\n} from 'react-hook-form'\n\nconst AttrRow: React.FC<{\n  attributes: Array<Attribute>\n  setValue: (\n    UseFormSetValue<FieldValues>\n  )\n  index: number\n}> = ({ attributes = [], setValue: setFormValue, index }) => {\n  const { name = '', value = '', type = 'string' } = (\n    attributes[index]\n  )\n  const setter = useCallback(\n    (prop: string) => (\n      (value: string | number) => {\n        setFormValue(\n          'attributes',\n          [\n            ...attributes.slice(0, index),\n            { ...attributes[index], [prop]: value },\n            ...attributes.slice(index + 1)\n          ],\n        )\n      }\n    ), [setFormValue, index, attributes]\n  )\n  const setName = setter('name')\n  const setValue = setter('value')\n  const setType = setter('type')\n\n  return (\n    <Tr>\n      <Td><Input\n        value={name}\n        onChange={\n          ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n            setName(value)\n          }\n        }\n      /></Td>\n      <Td>{(() => {\n        switch (type) {\n          case 'date': {\n            return (\n              <Input\n                type=\"date\"\n                value={isEmpty(value) ? (\n                  ''\n                ) : (\n                  (new Date(value)).toISOString().split('T')[0]\n                )}\n                onChange={\n                  ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n                    setValue((new Date(value)).getTime())\n                  }\n                }\n              />\n            )\n          }\n          case 'string': {\n            return (\n              <Input\n                {...{ value }}\n                onChange={\n                  ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n                    setValue(value)\n                  }\n                }\n              />\n            )\n          }\n          default: {\n            return (\n              <Input\n                type=\"number\"\n                {...{ value }}\n                onChange={\n                  ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n                    setValue(value != null ? Number(value) : '')\n                  }\n                }\n              />\n            )\n          }\n        }\n      })()}</Td>\n      <Td>\n        <Select\n          value={type}\n          onChange={\n            ({ target: { value } }: ChangeEvent<HTMLSelectElement>) => {\n              setType(value)\n            }\n          }\n        >\n          <chakra.option value=\"string\">String</chakra.option>\n          <chakra.option value=\"date\">Date</chakra.option>\n          <chakra.option value=\"number\">Number</chakra.option>\n          <chakra.option value=\"boost_percentage\">\n            Boost Percentage\n          </chakra.option>\n          <chakra.option value=\"boost_number\">\n            Boost Number\n          </chakra.option>\n        </Select>\n      </Td>\n      <Td><Tooltip label=\"Remove\" hasArrow>\n        <Button\n          size=\"sm\" ml={2}\n          colorScheme=\"red\"\n          onClick={() => setFormValue(\n            'attributes',\n            [\n              ...attributes.slice(0, index),\n              ...attributes.slice(index + 1)\n            ]\n          )}\n        >\n          <CloseIcon />\n        </Button>\n      </Tooltip></Td>\n    </Tr>\n  )\n}\n\nexport const NFTForm: React.FC<{\n  purpose?: 'create' | 'update'\n  register: UseFormRegister<FieldValues>\n  watch: UseFormWatch<FieldValues>\n  setValue: UseFormSetValue<FieldValues>\n  tokenId?: string\n  metadata?: Maybe<ERC1155Metadata>\n}> = ({\n  // purpose = 'create',\n  register,\n  watch,\n  setValue,\n  tokenId = '𝘜𝘯𝘬𝘯𝘰𝘸𝘯',\n  metadata,\n}) => {\n  const [primaryImageIdx, setPrimaryImageIdx] = (\n    useState<number | undefined>(0)\n  )\n  const imageRef = useRef<HTMLInputElement>(null)\n  const {\n    homepage, description, color, images, attributes, animation,\n  } = watch()\n  // const [wearables, setWearables] = useState({})\n\n  useEffect(() => {\n    if (metadata) {\n      Object.entries({\n        name: null, description: null,\n        external_url: 'homepage',\n        animation_url: 'animation',\n      })\n      .forEach(([prop, name]) => {\n        setValue(name ?? prop, metadata[prop])\n      })\n\n      if(metadata.image) {\n        setValue('images', [metadata.image])\n      }\n\n      const { attributes: attrs } = metadata\n      if(!isEmpty(attrs)) {\n        setValue(\n          'attributes',\n          ((attrs ?? []).map(\n            ({\n              trait_type: name,\n              value,\n              display_type: type = 'string',\n            }: OpenSeaAttribute) => (\n              { name, value, type }\n            )\n          ))\n        )\n      }\n\n      // setWearables(metadata.properties?.wearables ?? {})\n\n      const bg = metadata.background_color\n      if(bg && !isEmpty(bg)) {\n        setValue('color', `#${bg}`)\n      }\n    }\n  }, [metadata, setValue])\n\n  useEffect(() => {\n    if(!homepage || isEmpty(homepage) || homepage.endsWith('𝘜𝘯𝘬𝘯𝘰𝘸𝘯')) {\n      setValue(\n        'homepage',\n        `${nftBase}/${regexify(tokenId)}`\n      )\n    }\n  }, [homepage, setValue, tokenId])\n\n  useEffect(() => {\n    if (window.location.hash) {\n      const elem = document.getElementById(\n        window.location.hash.substring(1)\n      )\n      window.scroll({\n        top: (elem?.offsetTop ?? 0) - 120,\n        behavior: 'smooth',\n      })\n    }\n  }, [])\n\n  const addImage = ({ target: { files } }: (\n    { target: { files: Maybe<FileList> } }\n  )) => {\n    if(files?.length && files?.length >= 1) {\n      setValue('images', [...(images ?? []), ...Array.from(files)])\n    }\n  }\n\n  const removeImage = (idx: number) => {\n    const replacement = [\n      ...images.slice(0, idx),\n      ...images.slice(idx + 1)\n    ]\n    setValue('images', replacement)\n    if(primaryImageIdx === idx) {\n      setPrimaryImageIdx(\n        replacement.length > 0 ? 0 : undefined\n      )\n    }\n  }\n\n  const configAnimation = (\n    (evt: ChangeEvent & { target: { files: Maybe<FileList> } }) => {\n      const { target: { files } } = evt\n      if (files?.length >= 1) {\n        setValue('animation', files[0])\n      } else {\n        setValue('animation', null)\n      }\n      evt.preventDefault()\n    }\n  )\n\n  const addRow = () => {\n    setValue('attributes', [...(attributes ?? []), {}])\n  }\n\n  return (\n    <UnorderedList listStyleType=\"none\">\n      <ListItem>\n        <FormControl mt={3}>\n          <Flex direction={{ base: 'column', md: 'row' }}>\n            <FormLabel _after={{ content: '\":\"' }}>\n              Name\n            </FormLabel>\n            <Input\n              autoFocus\n              ml={{ base: 0, md: 4 }}\n              {...register('name')}\n            />\n          </Flex>\n        </FormControl>\n      </ListItem>\n      <ListItem>\n        <FormControl mt={3}>\n          <Flex direction={{ base: 'column', md: 'row' }}>\n            <FormLabel _after={{ content: '\":\"' }}>\n              Images\n            </FormLabel>\n            <Input\n              type=\"file\"\n              accept=\"image/*\"\n              ref={imageRef}\n              onChange={addImage}\n              display=\"none\"\n              multiple\n            />\n          </Flex>\n          {images?.length > 0 && (\n            <RadioGroup\n              value={primaryImageIdx}\n              onChange={(value: string) => {\n                setPrimaryImageIdx(Number(value))\n              }}\n            >\n              <SimpleGrid columns={3} templateColumns=\"6rem 1fr 2rem\">\n                {images.map((image: File | string, idx: number) => {\n                  const name = (\n                    (image as File)?.name\n                    ?? (image as string)?.replace(/^.*\\//g, '')\n                  )\n\n                  return (\n                    <React.Fragment key={idx}>\n                      <Flex w={16}>\n                        <Radio value={idx}>Display Image</Radio>\n                      </Flex>\n                      <Flex\n                        justify=\"center\"\n                        bg={idx === primaryImageIdx ? color : 'transparent'}\n                      >\n                        <Tooltip label={name} hasArrow>\n                          <Image\n                            alt={name}\n                            src={\n                              (image instanceof File) ? (\n                                URL.createObjectURL(image)\n                              ) : (\n                                httpURL(image) ?? undefined\n                              )\n                            }\n                            maxH={60} mt={0}\n                            onClick={() => imageRef.current?.click()}\n                          />\n                        </Tooltip>\n                      </Flex>\n                      <Center>\n                        <Button\n                          size=\"xs\"\n                          colorScheme=\"red\"\n                          onClick={() => removeImage(idx)}\n                        >\n                          <CloseIcon/>\n                        </Button>\n                      </Center>\n                    </React.Fragment>\n                  )\n                })}\n              </SimpleGrid>\n            </RadioGroup>\n          )}\n          <Button\n            w=\"full\" mt={3}\n            colorScheme=\"teal\"\n            onClick={() => imageRef.current?.click()}\n          >\n            <AddIcon/>\n          </Button>\n        </FormControl>\n      </ListItem>\n      <ListItem>\n        <FormControl mt={3}>\n          <Flex direction={{ base: 'column', md: 'row' }}>\n            <FormLabel _after={{ content: '\":\"' }}>\n              Background\n            </FormLabel>\n            <Input\n              type=\"color\"\n              {...register('color')}\n            />\n          </Flex>\n        </FormControl>\n      </ListItem>\n      <ListItem>\n        <FormControl mt={3}>\n          <Flex direction={{ base: 'column', md: 'row' }}>\n            <FormLabel _after={{ content: '\":\"' }}>\n              Homepage\n            </FormLabel>\n            <Flex grow={1}>\n              <Input\n                {...register('homepage')}\n              />\n              {homepage?.length > 0 && (\n                <Link ml={2} href={homepage} isExternal>\n                  <ExternalLinkIcon />\n                </Link>\n              )}\n            </Flex>\n          </Flex>\n        </FormControl>\n      </ListItem>\n      <ListItem>\n        <FormControl mt={3}>\n          <Stack>\n            <FormLabel _after={{ content: '\":\"' }}>\n              Description\n            </FormLabel>\n            <Tabs ml={5} isFitted variant=\"enclosed\">\n              <TabList mb=\"1em\">\n                <Tab>Markdown</Tab>\n                <Tab>Preview</Tab>\n              </TabList>\n              <TabPanels>\n                <TabPanel>\n                  <Textarea\n                    placeholder=\"Enter a markdown formatted description.\"\n                    minH={32}\n                    {...register('description')}\n                  />\n                </TabPanel>\n                <TabPanel>\n                  <Markdown>\n                    {description}\n                  </Markdown>\n                </TabPanel>\n              </TabPanels>\n            </Tabs>\n          </Stack>\n        </FormControl>\n      </ListItem>\n      <ListItem>\n        <FormControl mt={3}>\n          <Flex direction={{ base: 'column', md: 'row' }}>\n            <FormLabel _after={{ content: '\":\"' }}>\n              Animation\n            </FormLabel>\n            {typeof animation === 'string' && (\n              <Flex>\n                <Text>\n                  {decodeURI(animation.replace(\n                    /^ipfs:\\/\\/[^/]+\\//, ''\n                  ))}\n                </Text>\n                {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                <Link href={httpURL(animation)!} ml={3} mb={5} isExternal>\n                  <ExternalLinkIcon />\n                </Link>\n              </Flex>\n            )}\n            {(\n              typeof File !== 'undefined'\n              && animation instanceof File\n              && (\n                <Flex>\n                  <Text>{animation.name}</Text>\n                  <Link\n                    ml={3} mb={5}\n                    isExternal\n                    href={URL.createObjectURL(animation)}\n                  >\n                    <ExternalLinkIcon />\n                  </Link>\n                </Flex>\n              )\n            )}\n            <Input\n              type=\"file\"\n              accept=\"model/gltf+json,model/gltf-binary,video/*,.gltf,.glb\"\n              onChange={configAnimation}\n              h=\"auto\"\n            />\n          </Flex>\n        </FormControl>\n      </ListItem>\n      <ListItem id=\"attributes\">\n        <FormControl mt={3}>\n          <Stack>\n            <Flex>\n              <FormLabel _after={{ content: '\":\"' }}>\n                Attributes\n              </FormLabel>\n              <Button\n                ml={2} size=\"xs\"\n                onClick={addRow}\n                colorScheme=\"teal\"\n              >\n                <AddIcon />\n              </Button>\n            </Flex>\n            {attributes?.length > 0 && (\n              <Table\n                sx={{ 'th, td': {\n                  textAlign: 'center',\n                  px: 2,\n                } }}\n              >\n                <Thead>\n                  <Tr>\n                    <Th>Name</Th>\n                    <Th>Value</Th>\n                    <Th>Type</Th>\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {attributes.map((_: Attribute, index: number) => (\n                    <AttrRow\n                      key={index}\n                      {...{\n                        attributes, setValue, index,\n                      }}\n                    />\n                  ))}\n                </Tbody>\n              </Table>\n            )}\n          </Stack>\n        </FormControl>\n      </ListItem>\n    </UnorderedList>\n  )\n}\n\nexport default NFTForm","import { Textarea } from '@chakra-ui/react'\nimport React from 'react'\nimport { FieldValues, UseFormRegister } from 'react-hook-form'\nimport JSON5 from 'json5'\nimport { ERC1155Metadata } from '@/lib/types'\n\nexport const JSONForm: React.FC<{\n  register: UseFormRegister<FieldValues>\n  metadata: ERC1155Metadata\n}> = ({\n  register, metadata\n}) => (\n   <Textarea\n    placeholder=\"Enter JSON5 token metadata…\"\n    h=\"75vh\"\n    {...register('json5')}\n   >\n    {JSON5.stringify(metadata)}\n   </Textarea>\n)\n\nexport default JSONForm","import { useWeb3 } from '@/lib/hooks'\nimport { Maybe } from '@/lib/types'\nimport {\n  Flex, FormControl, FormLabel, Input,\n  Spinner, Text, useToast\n} from '@chakra-ui/react'\nimport React, {\n  ChangeEvent, FormEvent, useCallback, useEffect, useState\n} from 'react'\nimport { SubmitButton } from './SubmitButton'\nimport { ButtonProps } from '@chakra-ui/react'\nimport { extractMessage } from '@/lib/helpers'\n\nexport const MaxForm = (\n  { tokenId, purpose = 'create', perUser = false, ...props }:\n  ButtonProps & {\n    tokenId?: string\n    perUser?: boolean\n    purpose: string\n  }\n) => {\n  const [max, setMax] = useState<Maybe<string>>(null)\n  const [processing, setProcessing] = useState(false)\n  const { roContract, rwContract } = useWeb3()\n  const toast = useToast()\n\n  useEffect(() => {\n    const load = async () => {\n      if(roContract && tokenId) {\n        if(perUser){\n          setMax(await roContract.getPerUserMax(BigInt(tokenId)))\n        }else{\n          setMax(await roContract.getMax(BigInt(tokenId)))\n        }\n      }\n    }\n    load()\n  }, [tokenId, roContract])\n  \n  const save = useCallback(async (evt: FormEvent) => {\n    evt.preventDefault()\n\n    if (!rwContract) {\n      throw new Error('`rwContract` is not defined')\n    }\n    try {\n      setProcessing(true)\n      let tx\n      if (perUser){\n        tx = await rwContract.setPerUserMax(tokenId, max)\n      }else{\n        tx = await rwContract.setMax(tokenId, max)\n      }\n        await tx.wait()\n    } catch(error) {\n      toast({\n        title: 'Contract Error',\n        description: extractMessage(error),\n        status: 'error',\n        isClosable: true,\n        duration: 10000\n      })\n    } finally {\n      setProcessing(false)\n    }\n  }, [max, rwContract, toast, tokenId])\n\n  return (\n    <Flex \n      as=\"form\"\n      onSubmit={save}\n      alignItems=\"flex-end\"\n    >\n      <FormControl display=\"flex\" w=\"auto\" alignItems=\"baseline\" mt={3}>\n        <FormLabel whiteSpace=\"pre\" _after={{ content: '\":\"' }}>\n          {perUser && 'Per User'} Maximum Mintable\n        </FormLabel>\n        {max == null ? (\n          <Flex>\n            <Spinner/>\n            <Text ml={3}>Loading…</Text>\n          </Flex>\n        ) : (\n          <Input\n            type=\"number\"\n            mx={{ base: 0, md: 4 }}\n            w={32}\n            textAlign=\"center\"\n            value={max}\n            onChange={({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n              setMax(value.trim().replace(/^0+([^0])/, '$1'))\n            }}\n          />\n        )}  \n      </FormControl>\n      <SubmitButton\n        label={`Set ${perUser ? 'Per User': ''} Max`}\n        disabled={!/^-?\\d+$/.test(max)}\n        {...{ purpose, processing, ...props }}\n      />\n    </Flex>\n)\n}"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded","_excluded2","_excluded3","SelectField","forwardRef","props","ref","children","placeholder","className","rest","React","chakra","select","cx","_jsx","Select","styles","useMultiStyleConfig","_omitThemingProps","omitThemingProps","rootProps","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth","_split","split","layoutPropNames","layoutProps","otherProps","ownProps","useFormControl","rootStyles","width","position","fieldStyles","mergeWith","paddingEnd","field","_focus","zIndex","div","__css","dataAttr","disabled","fontSize","DefaultIcon","IconWrapper","baseStyle","display","alignItems","justifyContent","pointerEvents","top","transform","SelectIcon","_props$children","clone","role","focusable","style","OptionsForm","purpose","tokenId","metadata","incomingData","metaURI","incomingURI","FIELD_FORM","URI_FORM","JSON5_FORM","rwContract","useWeb3","navigate","useNavigate","register","handleSubmit","watch","setValue","formState","isSubmitting","processing","useForm","tab","setTab","useState","toast","useToast","storage","useConfig","json5","uri","useEffect","buildMeta","useCallback","data","name","description","homepage","images","animation","attributes","isSet","decimals","external_url","Array","isArray","some","img","image","ipfsify","filesOrURL","warn","File","animation_url","startsWith","background_color","substring","toUpperCase","isEmpty","map","value","type","attr","trait_type","display_type","configure","Error","tx","setURI","BigInt","wait","regexify","error","console","title","extractMessage","status","isClosable","duration","submit","Date","toISOString","content","JSON","stringify","meta","JSON5","parse","log","_jsxs","a","textDecoration","idx","res","fetch","text","NFTForm","URIForm","JSONForm","Form","AttrRow","setFormValue","index","setter","prop","slice","setName","setType","getTime","Number","primaryImageIdx","setPrimaryImageIdx","imageRef","useRef","entries","forEach","attrs","bg","endsWith","nftBase","window","location","hash","elem","document","getElementById","scroll","offsetTop","behavior","addImage","files","from","removeImage","replacement","undefined","configAnimation","evt","preventDefault","addRow","base","md","replace","Image","URL","createObjectURL","httpURL","current","click","Markdown","decodeURI","textAlign","px","_","MaxForm","perUser","max","setMax","setProcessing","roContract","load","getPerUserMax","getMax","save","setPerUserMax","trim","test"],"mappings":"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"}